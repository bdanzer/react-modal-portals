(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{19:function(e,t,n){e.exports=n(50)},24:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(7),r=n.n(o),s=(n(24),n(8)),c=n.n(s),l=n(2),u=n(3),d=n(5),h=n(4),m=n(6),p=n(18),g=n.n(p);n(43);var f=function(){return i.a.createElement("div",{"data-testid":"spinner-test",className:"loader"},"Loading...")},v=(n(44),document.getElementById("modal"));v||((v=document.createElement("div")).setAttribute("id","modal"),document.body.appendChild(v));var y=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).el=document.createElement("div"),n.el.classList.add("open"),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){v.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){v.removeChild(this.el)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.callBack;return r.a.createPortal(i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{"data-testid":"modal-backdrop-test",className:"backdrop",onClick:function(){return n()}}),t),this.el)}}]),t}(i.a.Component),E=(n(45),i.a.forwardRef((function(e,t){return i.a.createElement("button",Object.assign({ref:t},e),e.children)}))),b=(n(46),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={editingMode:!1,description:"Click Here To Add A Description"},n.persistence={IMAGE_DESCRIPTION_KEY:"image-".concat(e.image.id,"-description")},n.closeButton=i.a.createRef(),n.textarea=i.a.createRef(),n.description=i.a.createRef(),n.saveButton=i.a.createRef(),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.localStorage.getItem(this.persistence.IMAGE_DESCRIPTION_KEY);t&&this.setState({description:t}),this.props.modalOpen&&setTimeout((function(){return e.closeButton.current.focus()}))}},{key:"toggleEditingMode",value:function(){this.setState({editingMode:!this.state.editingMode})}},{key:"setEdits",value:function(e){this.setState({description:e.target.value}),window.localStorage.setItem(this.persistence.IMAGE_DESCRIPTION_KEY,e.target.value)}},{key:"handleCloseButtonKeyDown",value:function(e){return e.shiftKey&&"Tab"===e.key&&this.state.editingMode?(this.saveButton.current.focus(),e.preventDefault()):e.shiftKey&&"Tab"===e.key&&!this.state.editingMode?(this.description.current.focus(),e.preventDefault()):"Enter"===e.key?(this.props.toggleModalHandler(),e.preventDefault()):void 0}},{key:"handleKeyDown",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"description";return"Enter"===e.key&&"textarea"===n?(this.toggleEditingMode(),setTimeout((function(){return t.textarea.current.focus()})),e.preventDefault()):"Enter"===e.key&&"button"===n?(this.toggleEditingMode(),setTimeout((function(){return t.description.current.focus()})),e.preventDefault()):"Enter"===e.key&&"description"===n?(this.toggleEditingMode(),setTimeout((function(){return t.description.current.focus()})),e.preventDefault()):"Tab"!==e.key||e.shiftKey||"description"===n?void 0:(this.closeButton.current.focus(),e.preventDefault())}},{key:"render",value:function(){var e=this,t=this.props,n=t.image,a=n.title,o=n.url,r=t.toggleModalHandler;return i.a.createElement(y,{callBack:function(){return r()}},i.a.createElement(E,{ref:this.closeButton,tabIndex:0,className:"close-modal",onKeyDown:this.handleCloseButtonKeyDown.bind(this),onClick:function(){return r()},"aria-label":"Close Modal"},"X"),i.a.createElement("div",{className:"image-item-modal-wrap"},i.a.createElement("div",{className:"image-wrapper"},i.a.createElement("img",{alt:a,src:o})),i.a.createElement("div",{className:"content-wrapper"},i.a.createElement("h2",null,a),this.state.editingMode?[i.a.createElement("textarea",{key:1,tabIndex:0,"aria-label":"Editing Description",ref:this.textarea,onChange:this.setEdits.bind(this),value:this.state.description,onKeyDown:this.handleKeyDown.bind(this),maxlength:"140"}),i.a.createElement(E,{key:2,ref:this.saveButton,onKeyDown:function(t){return e.handleKeyDown(t,"button")},onClick:this.toggleEditingMode.bind(this)},"Save Changes")]:i.a.createElement("p",{ref:this.description,"aria-label":"Hit Enter to start editing text: ".concat(this.state.description),tabIndex:0,onClick:this.toggleEditingMode.bind(this),onKeyDown:function(t){return e.handleKeyDown(t,"textarea")}},this.state.description))))}}]),t}(i.a.Component)),k=(n(47),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={modalOpen:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"toggleModal",value:function(){this.setState({modalOpen:!this.state.modalOpen})}},{key:"handleImageItemKeyDown",value:function(e){"Enter"===e.key&&(this.toggleModal(),e.preventDefault())}},{key:"render",value:function(){var e=this,t=this.props.image,n=t.id,a=t.title,o=t.thumbnailUrl;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{tabIndex:0,"data-testid":"image-".concat(n,"-test"),"aria-label":a,className:"image-item",onClick:function(){return e.toggleModal()},onKeyDown:this.handleImageItemKeyDown.bind(this)},i.a.createElement("img",{alt:a,src:o})),this.state.modalOpen?i.a.createElement(b,Object.assign({},this.props,this.state,{toggleModalHandler:this.toggleModal.bind(this)})):"")}}]),t}(i.a.Component));n(48);var w=function(e){var t=e.images;return i.a.createElement("div",{className:"image-collection","data-testid":"image-collection-test"},t.map((function(e){return i.a.createElement(k,{key:e.id,image:e})})))},O=(n(49),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={isLoading:!0,images:[]},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getImages()}},{key:"getImages",value:function(){var e,t;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(g.a.get("https://jsonplaceholder.typicode.com/photos?_start=0&_limit=25"));case 2:e=n.sent,t=e.data,this.setState({images:t,isLoading:!1});case 5:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},this.state.isLoading?i.a.createElement(f,null):i.a.createElement(w,{images:this.state.images}))}}]),t}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.a7b38446.chunk.js.map